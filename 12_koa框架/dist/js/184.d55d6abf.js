"use strict";(self["webpackChunkvue3_ts_cms"]=self["webpackChunkvue3_ts_cms"]||[]).push([[184],{3019:function(e,t,a){a.d(t,{Z:function(){return P}});var n=a(3396),l=a(7139);const o={class:"page-content"},i={class:"handler-btns"};function r(e,t,a,r,s,p){const c=(0,n.up)("el-button"),d=(0,n.up)("mwm-table");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(d,(0,n.dG)({userList:e.dataList},e.contentTableConfig,{listCount:e.dataCount,page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,n.Nv)({handlerHandler:(0,n.w5)((()=>[e.isCreate?((0,n.wg)(),(0,n.j4)(c,{key:0,onClick:e.handlerNewClick,size:"medium",type:"primary"},{default:(0,n.w5)((()=>[(0,n.Uk)("新建数据")])),_:1},8,["onClick"])):(0,n.kq)("",!0),(0,n.Wm)(c,{icon:"el-icon-refresh",size:"medium"})])),createAt:(0,n.w5)((t=>[(0,n._)("span",null,(0,l.toDisplayString)(e.$filters.formatTime(t.row.createAt)),1)])),updateAt:(0,n.w5)((t=>[(0,n._)("span",null,(0,l.toDisplayString)(e.$filters.formatTime(t.row.updateAt)),1)])),handler:(0,n.w5)((t=>[(0,n._)("div",i,[e.isUpdate?((0,n.wg)(),(0,n.j4)(c,{key:0,type:"text",size:"mini",icon:"el-icon-edit",onClick:a=>e.handleEditClick(t.row)},{default:(0,n.w5)((()=>[(0,n.Uk)("编辑")])),_:2},1032,["onClick"])):(0,n.kq)("",!0),e.isDelete?((0,n.wg)(),(0,n.j4)(c,{key:1,type:"text",size:"mini",icon:"el-icon-delete",onClick:a=>e.handleDeleteClick(t.row)},{default:(0,n.w5)((()=>[(0,n.Uk)("删除")])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])])),_:2},[(0,n.Ko)(e.otherPropSlots,(t=>({name:t.slotName,fn:(0,n.w5)((a=>[t.slotName?(0,n.WI)(e.$slots,t.slotName,{key:0,row:a.row},void 0,!0):(0,n.kq)("",!0)]))})))]),1040,["userList","listCount","page"])])}var s=a(4870),p=a(65);const c={class:"mwm-table"},d={class:"header"},g={class:"title"},u={class:"handler"},m={key:0,class:"footer"};function w(e,t,a,o,i,r){const s=(0,n.up)("el-table-column"),p=(0,n.up)("el-table"),w=(0,n.up)("el-pagination");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",d,[(0,n.WI)(e.$slots,"header",{},(()=>[(0,n._)("div",g,(0,l.toDisplayString)(e.title),1),(0,n._)("div",u,[(0,n.WI)(e.$slots,"handlerHandler",{},void 0,!0)])]),!0)]),(0,n.Wm)(p,(0,n.dG)({data:e.userList,border:""},e.childrenProps,{style:{width:"100%"},onSelectionChange:e.handleSelectionChange}),{default:(0,n.w5)((()=>[e.showSelectColumn?((0,n.wg)(),(0,n.j4)(s,{key:0,"show-overflow-tooltip":"",type:"selection",align:"center",label:"label"})):(0,n.kq)("",!0),e.showIndexColumn?((0,n.wg)(),(0,n.j4)(s,{key:1,"show-overflow-tooltip":"",type:"index",label:"序号",align:"center",width:"60"})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.propList,(t=>((0,n.wg)(),(0,n.j4)(s,{key:t.prop,prop:t.prop,"show-overflow-tooltip":"",label:t.label,"min-width":t.minWidth,align:"center"},{default:(0,n.w5)((({row:a})=>[(0,n.WI)(e.$slots,t.slotName,{row:a},(()=>[(0,n.Uk)((0,l.toDisplayString)(a[t.prop]),1)]),!0)])),_:2},1032,["prop","label","min-width"])))),128))])),_:3},16,["data","onSelectionChange"]),e.showFooter?((0,n.wg)(),(0,n.iD)("div",m,[(0,n.WI)(e.$slots,"footer",{},(()=>[(0,n.Wm)(w,{currentPage:e.page.currentPage,"onUpdate:currentPage":t[0]||(t[0]=t=>e.page.currentPage=t),"page-size":e.page.pageSize,"onUpdate:page-size":t[1]||(t[1]=t=>e.page.pageSize=t),"page-sizes":[1,5,10],layout:"total, sizes, prev, pager, next, jumper",total:e.listCount,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),!0)])):(0,n.kq)("",!0)])}var h=(0,n.aZ)({name:"MwmTableView",props:{userList:{type:Array,required:!0},propList:{type:Array,required:!0},listCount:{type:Number,default:0},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},title:{type:String,default:""},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["selectionChange","update:page"],setup(e,{emit:t}){const a=e=>{t("selectionChange",e)},n=a=>{t("update:page",{...e.page,pageSize:a})},l=a=>{t("update:page",{...e.page,currentPage:a})};return{handleSelectionChange:a,handleSizeChange:n,handleCurrentChange:l}}}),C=a(89);const f=(0,C.Z)(h,[["render",w],["__scopeId","data-v-6aeba4b9"]]);var y=f,b=y;function k(e,t){const a=(0,p.oR)(),n=a.state.login.permissions,l=`system:${e}:${t}`;return Boolean(n.find((e=>e===l)))}var v=(0,n.aZ)({props:{contentTableConfig:{type:Object,required:!0},pageName:{type:String,required:!0}},components:{MwmTable:b},emits:["newBtnClick","editBtnClick"],setup(e,{emit:t}){const a=(0,p.oR)(),l=k(e.pageName,"create"),o=k(e.pageName,"delete"),i=k(e.pageName,"update"),r=k(e.pageName,"query"),c=(0,s.iH)({currentPage:1,pageSize:10});(0,n.YP)(c,(()=>d()));const d=(t={})=>{r&&a.dispatch("system/getPageListAction",{pageName:e.pageName,queryInfo:{offset:c.value.pageSize*(c.value.currentPage-1),size:c.value.pageSize,...t}})};d();const g=(0,n.Fl)((()=>a.getters["system/pageListData"](e.pageName))),u=(0,n.Fl)((()=>a.getters["system/pageListCount"](e.pageName))),m=e.contentTableConfig?.propList.filter((e=>{if("createAt"!==e.slotName&&"updateAt"!==e.slotName&&"handler"!==e.slotName)return!0})),w=t=>{a.dispatch("system/deletePageDataAction",{pageName:e.pageName,id:t.id})},h=e=>{t("editBtnClick",e)},C=()=>{t("newBtnClick")};return{dataList:g,dataCount:u,pageInfo:c,otherPropSlots:m,isCreate:l,isDelete:o,isUpdate:i,getPageData:d,handlerNewClick:C,handleEditClick:h,handleDeleteClick:w}}});const N=(0,C.Z)(v,[["render",r],["__scopeId","data-v-7010e2e6"]]);var S=N,P=S},1184:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var n=a(3396),l=a(7139);const o={class:"category"};function i(e,t,a,i,r,s){const p=(0,n.up)("el-image"),c=(0,n.up)("el-button"),d=(0,n.up)("page-content");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(d,{contentTableConfig:e.contentTableConfig,pageName:"goods"},{imgUrl:(0,n.w5)((e=>[(0,n.Wm)(p,{style:{width:"60px",height:"60px"},src:e.row.imgUrl,"preview-src-list":[e.row.imgUrl],fit:"cover"},null,8,["src","preview-src-list"])])),oldPrice:(0,n.w5)((e=>[(0,n._)("span",null,"￥"+(0,l.toDisplayString)(e.row.oldPrice),1)])),newPrice:(0,n.w5)((e=>[(0,n._)("span",null,"￥"+(0,l.toDisplayString)(e.row.newPrice),1)])),status:(0,n.w5)((e=>[(0,n.Wm)(c,{plain:"",size:"mini",type:e.row.status?"success":"danger"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(e.row.status?"启动":"禁用"),1)])),_:2},1032,["type"])])),_:1},8,["contentTableConfig"])])}var r=a(3019);const s={title:"商品列表",propList:[{prop:"name",label:"商品名称",minWidth:"120"},{prop:"oldPrice",label:"原价格",minWidth:"80",slotName:"oldPrice"},{prop:"newPrice",label:"现价格",minWidth:"80",slotName:"newPrice"},{prop:"desc",label:"商品信息",minWidth:"120"},{prop:"status",label:"状态",minWidth:"100",slotName:"status"},{prop:"imgUrl",label:"商品图片",minWidthL:"100",slotName:"imgUrl"},{prop:"createAt",label:"创建时间",minWidth:"180",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"180",slotName:"updateAt"},{label:"操作",minWidth:"120",slotName:"handler"}],showIndexColumn:!0,showSelectColumn:!0};var p=(0,n.aZ)({name:"categoryView",components:{PageContent:r.Z},setup(){return{contentTableConfig:s}}}),c=a(89);const d=(0,c.Z)(p,[["render",i]]);var g=d}}]);
//# sourceMappingURL=184.d55d6abf.js.map